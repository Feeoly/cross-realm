<html>
    <head>
      <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
      <style>
          .title{
              width: 100%;
              height: 60px;
              background: sandybrown;
          }
          .frame-wrapper{
            width: 100%;
            height: calc(100% - 60px);

          }
      </style>
    </head>
    <body>
        <div class="title">title</div>
        <iframe class="frame-wrapper" src="./viewer.html?1"></iframe>
    </body>
    <script>
      var obj = {}
      var frame = document.querySelector('.frame-wrapper')
      // frame.addEventListener('load', onload)
      // function onload () {
      //   console.log('iframe load')
      //   //app.PDFViewerApplication = Vue.observable(app.PDFViewerApplication)
      // }
      function ObserverFake() {
        console.log('hhh')
      }

      setTimeout(function(){
        if (frame.contentWindow && frame.contentWindow.PDFViewerApplication) {
          //obj = Vue.observable(frame.contentWindow.PDFViewerApplication)
          frame.contentWindow.PDFViewerApplication.__ob__ = new ObserverFake()
          obj = frame.contentWindow.PDFViewerApplication
        }
        console.log('hhhhh', obj)
      }, 5000)
      // window.addEventListener('message', function(e) {
      //   console.log('111', e.data.type)
      //   if (e.data.type === 'loaded') {
      //     if (frame.contentWindow && frame.contentWindow.PDFViewerApplication) {
      //       obj = Vue.observable(frame.contentWindow.PDFViewerApplication)
      //     }
      //     console.log('hhhhh', obj)
      //   }
      // })
    </script>
</html>
